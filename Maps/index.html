<!DOCTYPE html>
<html>
  <head>
    <title>Indoor Navigation Backend Application</title>
    <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
    </style>
  </head>
  <body>
    <div id="map"></div>
    <script>
       var historicalOverlay;

      function initMap() {
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 21,
          center: {lat: 12.927495, lng: 77.58614999999998},
          styles: [
                    {
                        "featureType": "all",
                        "elementType": "all",
                        "stylers": [
                            {
                                "saturation": "32"
                            },
                            {
                                "lightness": "-3"
                            },
                            {
                                "visibility": "on"
                            },
                            {
                                "weight": "1.18"
                            }
                        ]
                    },
                    {
                        "featureType": "administrative",
                        "elementType": "labels",
                        "stylers": [
                            {
                                "visibility": "off"
                            }
                        ]
                    },
                    {
                        "featureType": "landscape",
                        "elementType": "labels",
                        "stylers": [
                            {
                                "visibility": "off"
                            }
                        ]
                    },
                    {
                        "featureType": "landscape.man_made",
                        "elementType": "all",
                        "stylers": [
                            {
                                "saturation": "-70"
                            },
                            {
                                "lightness": "14"
                            }
                        ]
                    },
                    {
                        "featureType": "poi",
                        "elementType": "labels",
                        "stylers": [
                            {
                                "visibility": "off"
                            }
                        ]
                    },
                    {
                        "featureType": "road",
                        "elementType": "labels",
                        "stylers": [
                            {
                                "visibility": "on"
                            }
                        ]
                    },
                    {
                        "featureType": "transit",
                        "elementType": "labels",
                        "stylers": [
                            {
                                "visibility": "off"
                            }
                        ]
                    },
                    {
                        "featureType": "water",
                        "elementType": "all",
                        "stylers": [
                            {
                                "saturation": "100"
                            },
                            {
                                "lightness": "-14"
                            }
                        ]
                    },
                    {
                        "featureType": "water",
                        "elementType": "labels",
                        "stylers": [
                            {
                                "visibility": "off"
                            },
                            {
                                "lightness": "12"
                            }
                        ]
                    }
                ]
            });

            var imageBounds = {
                north: 12.92774,
                south: 12.92729,  //south: 12.92729,
                east: 77.58628,
                west: 77.58605
            };
            addMarker({lat:12.927695403933045,lng:77.58621961060237},map,"");
            addMarker({lat:12.927498029980026,lng:77.58622363391589},map,"");
            addMarker({lat:12.927341176396137,lng:77.58623436275195},map,"");
            addMarker({ lat: 12.927495, lng: 77.586150 }, map, "Reception");

            addMarker({ lat: 12.927680, lng: 77.586270 }, map, "Pratap Cabin");
            addMarker({ lat: 12.927305, lng: 77.586263 }, map, "Vikram Cabin");
            addMarker({ lat: 12.927316, lng: 77.586130 }, map, "KFC");


        historicalOverlay = new google.maps.GroundOverlay(
            './333.jpg',
              imageBounds,{clickable:false});
        google.maps.event.addListener(map,'click',function(event){
           addMarker(event.latLng,map,"waypoint");
        });
        historicalOverlay.setMap(map);
      }
    

       function addMarker(location,map,name) {
         // body...
         
         if(name===''){

          var marker = new google.maps.Marker({
                position: location,
                label: name,
                map: map,
                icon:"http://maps.google.com/mapfiles/ms/icons/green-dot.png",
                animation: google.maps.Animation.DROP,
            });
         }else{
         var marker = new google.maps.Marker({
                position: location,
                label: name,
                map: map,
                animation: google.maps.Animation.DROP,
            });

          }

          marker.addListener('click',function(event){
            console.log(JSON.stringify(event.latLng));
          });
       }


    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAOYWztAGgjt7POa0DoKF73yCFrqp-9iGo&callback=initMap"
    async defer></script>
  </body>
</html>